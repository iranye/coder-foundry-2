<!DOCTYPE html>
<!--------------------------------------------------------------------------------------------------------------------
<copyright file="volumes.html" company="IRANYE">
  Copyright (c) IRANYE. All rights reserved.
</copyright>
-------------------------------------------------------------------------------------------------------------------->
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="icon" href="favicon.ico">
    <title>Volumes - Queries</title>
    <link rel="stylesheet" href="site.css" type="text/css" />
    <style type="text/css">
      body {
        margin: 30px;
      }
      #leftpane{
        border:1px solid black;
          height: 160px;
      }
      #mainpane{
        /* background-color:lightblue; */
        border:1px solid black;
          height: 600px;
      }
      aside{
        text-align:center;
        margin: 10px;
      }
      table{
        border:1px solid black;
      }
    </style>
</head>
<body>
  <main>

    <header>
      <nav>
        <ul id="header-links">
        </ul>
      </nav>
    </header>
    <aside>
      <img src="images/vinyl-02.png" style="background-color: rgba(0,0,0,0);" alt="Volume Queries" />
    </aside>
  </main>
    <div id="leftpane" class="col-sm-4" >
      <form class="form-horizontal">
            <div class="form-group">
                <label for="filter" class="control-label">Filter</label>
                <div class="">
                    <input type="text" id="filter" name="filter" class="form-control" />
                </div>
            </div>
      </form>
    </div>
    
    <div id="mainpane" class="col-sm-8" >
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Title</th>
            <th scope="col">M3usTotalMb</th>
            <th scope="col">LastModified</th>
            <th scope="col">M3Us</th>            
          </tr>
        </thead>
        <tbody id="tbodyMain">
        </tbody>
      </table>
    </div>
</body>

<script type="text/javascript" src="scripts/jquery-3.6.0.js"></script>
<script>

    $((/* jQuery ready */) => {
        let $tbodyMain = $("#tbodyMain");

        let tbodyTemplate = (item) =>
        `<tr><th scope="row">${item.Id}</th><td>${item.Title}</td><td>${item.M3usTotalMb}</td><td>${item.LastModified}</td><td><table class="table"><tr><td>Music\\MP3s\\Audioslave\\_Audioslave-ShortList.m3u</td><td>123</td></tr> <tr><td>Music\\MP3s\\Audioslave\\_Audioslave-ShortList.m3u</td><td>123</td></tr> <tr><td>Music\\MP3s\\Audioslave\\_Audioslave-ShortList.m3u</td><td>123</td></tr> </table></td>`

        $.get("data/volumes.json")
        .done((data) => {
            let length = data.length;
            console.log(`Fetch result: ${ length } volumes loaded`);
            data.forEach((item) => {
              for (var i = 0; i < item.M3uFiles.length; i++) {
              }
                $tbodyMain.append(tbodyTemplate(item));
            });
        })

        populateLinksMain();
    });

function populateLinksMain() {
    let $mainLinks = $("#header-links");

    let linkTemplate = (href, title) =>
        `<li><a href='${href}'>${title}</a></li>`

    $.get("data/links-main.json")
        .done((data) => {
        let length = data.length;
        console.log(`${ length } main links found`);
        data.forEach((item) => {
            $mainLinks.append(linkTemplate(item.Href, item.Title));
        });
    })
}

</script>
</html>

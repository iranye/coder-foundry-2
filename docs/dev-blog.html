<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="icon" href="favicon.ico">
    <title>Dev Blog and Other - Links</title>
    <style type="text/css">
      fieldset {
          margin: 8px;
          border: 1px solid silver;
          padding: 8px;
          border-radius: 4px;
      }
      .container {
          clear: both;
          display: block;
          position: relative;
      }

      a {
            float: left;
            border: 1px;
            margin:5px;
        }
</style>
    <link rel="stylesheet" href="site.css" type="text/css" />
</head>
<body>
    <header>
      <nav>
        <ul id="header-links">
          <li><a href="/">Home</a></li>
          <li><a href="Regexer.html">Regexer</a></li>
          <li><a href="dev-blog.html">List of Links</a></li>
          <li><a href="cloud/index.html">Cloud Q&A</a></li>
          <li><a href="static/Wordle/Wordle - A daily word game.html">W</a></li>
        </ul>
      </nav>
    </header>
    
    <main>
        <article>
          <h1>Links</h1>
          <aside>
            <img src="images/keyboard-01.jpg" id="main-img" alt="Links to Stuff" />
          </aside>
  
          <section class="columns-desktop" id="links">

            <!-- Generated HTML goes here -->
          </section>
  
        </article>
      </main>

    <div class="row">
        <label id="message" class="infoMessage"></label>
    </div>
    <div class="row">
        <label id="error" class="errorMessage"></label>
    </div>
    <footer>
      <nav>
        <ul id="footer-links">
          <li><a href="/">Home</a></li>
          <li><a href="Regexer.html">Regexer</a></li>
          <li><a href="dev-blog.html">List of Links</a></li>
          <li><a href="cloud/index.html">Cloud Q&A</a></li>
          <li><a href="static/Wordle/Wordle - A daily word game.html">W</a></li>
        </ul>
      </nav>
    </footer>
</body>

<script type="text/javascript" src="scripts/ajax-common.js"></script>
<script type="text/javascript" src="scripts/jquery-3.6.0.js"></script>
<script>

    $((/* jQuery ready */) => {
        let $links = $("#links");

        let linkTemplate = (item, tags) => 
            `<div class='container' id='${item.Id}'><a class="anchor" href="${item.Href}" target="_blank">${item.Title}</a><fieldset><p>${tags}</p></fieldset></div><hr />`;
            
        $.get("data/blog-links.json")
        .done((data) => {
            let length = data.length;
            console.log(`Fetch result: ${ length } links loaded`);
            data.forEach((item) => {
              tags = "";
              for (var i = 0; i < item.Tags.length; i++) {
                tags += "[" + item.Tags[i].Name + "]";
              }
              if (item.Desc) {
                tags += "<br/>[" + item.Desc + "]";
              }
                $links.append(linkTemplate(item, tags));
            });
        })
    });
    
</script>
</html>

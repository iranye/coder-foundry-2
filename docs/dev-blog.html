<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="icon" href="favicon.ico">
    <title>Dev Blog and Other - Links</title>
    <link rel="stylesheet" href="site.css" type="text/css" />
</head>
<body>
    <header>
      <nav>
        <ul id="header-links">
          <li><a href="/">Home</a></li>
          <li><a href="pies.html">Pies</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
    </header>
    
    <main>
        <article>
          <h1>Links</h1>
          <aside>
            <img src="images/keyboard-01.jpg" id="main-img" alt="Links to Stuff" />
          </aside>
  
          <section class="columns-desktop" id="links">
            <!-- Generated HTML goes here -->
          </section>
  
        </article>
      </main>


    <div class="row">
        <label id="message" class="infoMessage"></label>
    </div>
    <div class="row">
        <label id="error" class="errorMessage"></label>
    </div>
    <footer>
      <nav>
        <ul id="footer-links">
          <li><a href="/">Home</a></li>
          <li><a href="pies.html">Pies</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
    </footer>
</body>

<script type="text/javascript" src="scripts/ajax-common.js"></script>
<script type="text/javascript" src="scripts/dev-blog.js"></script>
<script type="text/javascript" src="scripts/script.js"></script>
<script type="text/javascript" src="scripts/jquery-3.6.0.js"></script>
<script>

    $((/* jQuery ready */) => {
        let $links = $("#links");

        let linkTemplate = (item) => 
            `<p class='container' id='${item.Id}'><a class="anchor" href="${item.Href}" target="_blank">${item.Title}</a></p>`;
            
        $.get("data/blog-links.json")
        .done((data) => {
            let length = data.length;
            setMaxId(length);
            console.log(`Fetch result: ${ length } links loaded`);
            data.forEach((item) => {
                $links.append(linkTemplate(item));
            });
        })
    });
    
</script>
</html>
